<% is_owner = local_assigns[:is_owner] || false %>
<div class="bg-surface0 rounded-2xl border border-surface2 overflow-hidden hover:border-mauve/50 transition-colors">
  <div class="p-6">
    <div class="flex items-start justify-between mb-4">
      <div class="flex-1">
        <h3 class="text-lg font-semibold text-text mb-1"><%= event.name %></h3>
        <p class="text-sm text-subtext0 line-clamp-2"><%= event.description %></p>
      </div>
    </div>

    <div class="flex items-center gap-2 mb-4">
      <span class="inline-flex items-center gap-x-1 text-xs text-subtext0">
        <svg class="size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
        <%= event.event_date&.strftime("%b %d, %Y") || "TBD" %>
      </span>
      <span class="inline-flex items-center gap-x-1 text-xs text-subtext0">
        <svg class="size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
        <%= event.participants.count %>
      </span>
    </div>

    <div class="flex items-center justify-between">
      <div class="flex items-center gap-2">
        <span class="text-xs font-mono text-mauve bg-mauve/10 px-2 py-1 rounded"><%= event.invite_code %></span>
        <button type="button" onclick="navigator.clipboard.writeText('<%= event.invite_code %>')" class="text-xs text-subtext0 hover:text-text transition-colors">
          <svg class="size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2 0-1.1.9-2 2-2s2 .9 2 2c0 1.1-.9 2-2 2-2-.9-2-2-2z"/><path d="M20 12c0-1.1-.9-2-2-2-2 0-1.1.9-2 2-2s2 .9 2 2c0 1.1-.9 2-2 2 2 .9 2 2 2z"/></svg>
        </button>
      </div>

      <%= link_to event_path(event), class: "inline-flex items-center gap-x-1 text-sm font-medium text-mauve hover:text-pink transition-colors" do %>
        View
        <svg class="size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7-7"/></svg>
      <% end %>
    </div>
  </div>
</div>
