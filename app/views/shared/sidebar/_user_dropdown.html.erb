<footer class="p-4 border-t border-surface0">
  <div class="relative w-full" data-controller="dropdown">
    <button type="button" data-action="click->dropdown#toggle" class="w-full inline-flex items-center gap-x-3 p-3 text-start text-sm text-text rounded-lg hover:bg-surface0 focus:outline-none focus:bg-surface0 transition-colors">
      <div class="shrink-0 size-10 rounded-full bg-mauve flex items-center justify-center text-crust font-bold text-lg">
        <%= current_user.email.first.upcase %>
      </div>
      <div class="flex-1 min-w-0">
        <p class="font-semibold truncate"><%= current_user.display_name %></p>
        <p class="text-xs text-subtext0 truncate"><%= current_user.email %></p>
      </div>
      <svg class="shrink-0 size-4 text-subtext0" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/></svg>
    </button>

    <%# Dropdown Menu %>
    <div data-dropdown-target="menu" class="hidden absolute bottom-full left-0 right-0 mb-2 bg-surface0 border border-surface2 rounded-xl shadow-xl overflow-hidden">
      <div class="p-2">
        <a href="<%= profile_path %>" class="w-full flex items-center gap-x-3 py-2.5 px-3 rounded-lg text-sm <%= request.path == profile_path ? "text-mauve bg-surface1" : "text-text" %> hover:bg-surface1 transition-colors">
          <svg class="size-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
          Profile
        </a>
        <%= button_to session_path, method: :delete, class: "w-full flex items-center gap-x-3 py-2.5 px-3 rounded-lg text-sm text-red hover:bg-surface1 transition-colors" do %>
          <svg class="size-5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" x2="9" y1="12" y2="12"/></svg>
          Sign out
        <% end %>
      </div>
    </div>
  </div>
</footer>
